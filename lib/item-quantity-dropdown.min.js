!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("item-quantity-dropdown",[],n):"object"==typeof exports?exports["item-quantity-dropdown"]=n():t["item-quantity-dropdown"]=n()}(window,(function(){return function(t){var n={};function e(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}return e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:o})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)e.d(o,r,function(n){return t[n]}.bind(null,r));return o},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=0)}([function(t,n,e){"use strict";e.r(n);var o,r;e(1);o=jQuery,r={maxItems:1/0,minItems:0,initialText:"select item",selectionText:"item",textPlural:"items",moreThenFiveText:"items",controls:{position:"right",displayCls:"iqdropdown-content",controlsCls:"iqdropdown-item-controls",counterCls:"counter",controlBtnsCls:"iqdropdown-menu-control-buttons",clearBtn:!0,clearBtnLabel:"Clear",applyBtn:!0,applyBtnLabel:"Apply"},items:{},setCustomMessage:function(t,n){return 0===n?this.initialText:1===n?"1 ".concat(this.selectionText):n<5?"".concat(n," ").concat(this.textPlural):n>=5?"".concat(n," ").concat(this.moreThenFiveText):this.initialText},onChange:function(){},beforeDecrement:function(t,n){return n[t]>0},beforeIncrement:function(){return!0},onApply:function(t,n){console.log("=================="),console.log("Total Items: ".concat(n," including:")),console.log(t),console.log("==================")}},o.fn.iqDropdown=function(t){return this.each((function(){var n,e,i,c=o(this),a=c.find("p.iqdropdown-selection").last(),l=c.find("div.iqdropdown-menu"),s=l.find("div.iqdropdown-menu-option"),u=o.extend(!0,{},r,t),d={},p={},m=0,f=u.controls.clearBtn,b=function(){a.html(u.setCustomMessage(d,m,p));var t=c.find("button.button-clear");0===m&&t&&f&&(f=!1,t.addClass("button-invisible")),0!==m&&t&&!f&&(f=!0,t.removeClass("button-invisible")),s.each((function(){var t=o(this),n=t.data("id"),e=t.find(".button-decrement"),r=t.find(".button-increment");d[n]<=u.items[n].minCount?e.addClass("button-decrement-disabled"):e.removeClass("button-decrement-disabled"),d[n]>=u.items[n].maxCount?r.addClass("button-increment-disabled"):r.removeClass("button-increment-disabled")}))};c.click((function(){c.toggleClass("menu-open")})),s.each((function(){var t=o(this),n=t.data("id"),e=t.find(".iqdropdown-item")[0].innerText,r=Number(t.data("defaultcount")||"0");d[n]=r,p[n]=e,m+=r,function(t,n){var e=Number(n.data("mincount")),o=Number(n.data("maxcount"));u.items[t]={minCount:Number.isNaN(Number(e))?0:e,maxCount:Number.isNaN(Number(o))?1/0:o}}(n,t),function(t,n){var e=o("<div />").addClass(u.controls.controlsCls),r=o('\n          <button class="button-decrement">\n            <i class="icon-decrement"></i>\n          </button>\n        '),i=o('\n          <button class="button-increment">\n            <i class="icon-decrement icon-increment"></i>\n          </button>\n        '),c=o("<span>".concat(d[t],"</span>")).addClass(u.controls.counterCls);n.children("div").addClass(u.controls.displayCls),e.append(r,c,i),"right"===u.controls.position?n.append(e):n.prepend(e),r.click((function(n){var e=u.items,o=u.minItems,r=u.beforeDecrement,i=u.onChange;r(t,d)&&m>o&&d[t]>e[t].minCount&&(d[t]-=1,m-=1,c.html(d[t]),b(),i(t,d[t],m)),n.preventDefault()})),i.click((function(n){var e=u.items,o=u.maxItems,r=u.beforeIncrement,i=u.onChange;r(t,d)&&m<o&&d[t]<e[t].maxCount&&(d[t]+=1,m+=1,c.html(d[t]),b(),i(t,d[t],m)),n.preventDefault()})),n.click((function(t){return t.stopPropagation()}))}(n,t)})),l.trigger("clear"),l.bind("clear",(function(t){var n=t.currentTarget;o(n).find(".counter").html("0")})),(u.controls.clearBtn||u.controls.applyBtn)&&(n=o("<div />").addClass(u.controls.controlBtnsCls)),u.controls.clearBtn&&(e=o('<button class="button-clear">'.concat(u.controls.clearBtnLabel,"</button>")),0===m&&e.addClass("button-invisible"),n.append(e),e.click((function(t){var n=u.onChange;for(var e in d)({}).hasOwnProperty.call(d,e)&&(m-=d[e],d[e]=0,n(e,d[e],m),0===m&&b());var o=new CustomEvent("clear",{bubbles:!0});t.target.dispatchEvent(o),t.stopPropagation()}))),u.controls.applyBtn&&(i=o('<button class="button-apply">'.concat(u.controls.applyBtnLabel,"</button>")),n.append(i),i.click((function(t){(0,u.onApply)(d,m),c.toggleClass("menu-open"),t.stopPropagation()}))),l.append(n),b()})),this}},function(t,n,e){}])}));
//# sourceMappingURL=item-quantity-dropdown.min.js.map